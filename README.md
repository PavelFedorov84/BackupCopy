# Домашнее задание по лекции "`Репликация и масштабирование. Часть 1`" - `Попов Всеволод`

### Задание 1

На лекции рассматривались режимы репликации master-slave, master-master, опишите их различия.

`Master-Slave` репликация

Представляет собой иерархичную структуру, где одна база данных является главным узлом ("master"), принимающим запросы на запись и обновление данных, а остальные базы выступают подчинёнными ("slave") и выполняют лишь роль резервных копий, обеспечивая быстрое выполнение запросов на чтение. Главный узел контролирует процесс распространения изменений среди подчинённых узлов. Если главная база выходит из строя, система продолжает функционировать благодаря наличию резервных копий, хотя временно утрачивается способность писать новые данные.
Это решение оптимально подходит для приложений с преобладанием операций чтения над записями, таких как веб-сайты, социальные сети или онлайн-магазины, поскольку оно эффективно распределяет нагрузку на слэйвы, повышая общую пропускную способность запросов на чтение.

`Master-Master` репликация

При таком подходе две или более базы данных являются равнозначными и способны самостоятельно записывать изменения, передавая их друг другу синхронно. Таким образом, каждая база становится автономной единицей обработки записей и способна обслуживать пользователей независимо. Такое решение улучшает устойчивость системы к отказам отдельных компонентов, позволяя избежать зависимости от центрального узла.
Однако подобная конфигурация значительно сложнее в настройке и управлении, особенно важно правильно настроить механизмы разрешения конфликтов и устранения дублирования записей. Используется там, где важна высокая доступность и распределенность ресурсов, например, в высоконагруженных системах, работающих круглосуточно и глобально распространяющих данные.

Подводя итог, выбор между этими методами зависит от приоритетов проекта: если важнее быстрая обработка запросов на чтение и низкая стоимость инфраструктуры, выбирают схему Master-Slave. Для проектов, нуждающихся в повышенной доступности и возможности распределять нагрузку равномерно между несколькими узлами, предпочтительнее выбрать вариант Master-Master.

### Задание 2

Выполните конфигурацию master-slave репликации, примером можно пользоваться из лекции.
Приложите скриншоты конфигурации, выполнения работы: состояния и режимы работы серверов.

1. Создаём 2 инстанса MySQL
![Скриншот-1](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/1.png)
![Скриншот-2](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/2.png)
2. Настраиваем на каждом конфигурационный файл my.cnf
![Скриншот-3](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/3.png)
![Скриншот-4](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/4.png)
3. На мастере создаём пользователя для подключения реплики
![Скриншот-5](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/5.png)
4. На реплике изменяем источник данных для журнала
![Скриншот-6](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/6.png)
5. Подключаем инстансы к сети
![Скриншот-7](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/7.png)
6. Запускаем репликацию

7. Убеждаемся, что созданная на мастере таблица доступна на слейве
![Скриншот-8](https://github.com/MeSeurus/sys-pattern-homework/blob/main/img/8.png)